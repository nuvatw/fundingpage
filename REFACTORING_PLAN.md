# Nuva General Funding Page - é‡æ§‹åŸ·è¡Œä¼åŠƒæ›¸

**åˆ†ææ—¥æœŸ:** 2026-01-19
**å°ˆæ¡ˆç¸½æª”æ¡ˆæ•¸:** 153 å€‹åŸå§‹ç¢¼æª”æ¡ˆ
**æŠ€è¡“æ£§:** Next.js 16 + React 19 + TypeScript + MongoDB + Tailwind CSS

---

## ç›®éŒ„

1. [å°ˆæ¡ˆç¸½è¦½](#1-å°ˆæ¡ˆç¸½è¦½)
2. [ç™¼ç¾çš„å•é¡Œåˆ†é¡](#2-ç™¼ç¾çš„å•é¡Œåˆ†é¡)
3. [æœªä½¿ç”¨çš„ç¨‹å¼ç¢¼](#3-æœªä½¿ç”¨çš„ç¨‹å¼ç¢¼)
4. [éœ€è¦æ‹†åˆ†çš„å¤§å‹æª”æ¡ˆ](#4-éœ€è¦æ‹†åˆ†çš„å¤§å‹æª”æ¡ˆ)
5. [å¯åˆä½µçš„é‡è¤‡ç¨‹å¼ç¢¼](#5-å¯åˆä½µçš„é‡è¤‡ç¨‹å¼ç¢¼)
6. [é‚è¼¯å„ªåŒ–é …ç›®](#6-é‚è¼¯å„ªåŒ–é …ç›®)
7. [æª”æ¡ˆé—œè¯æ€§åˆ†æ](#7-æª”æ¡ˆé—œè¯æ€§åˆ†æ)
8. [åŸ·è¡Œè¨ˆç•«](#8-åŸ·è¡Œè¨ˆç•«)
9. [é æœŸæ•ˆç›Š](#9-é æœŸæ•ˆç›Š)

---

## 1. å°ˆæ¡ˆç¸½è¦½

### ç›®éŒ„çµæ§‹
```
/app                          - Next.js app ç›®éŒ„ (25 æª”æ¡ˆ)
  /(brand)/                   - å“ç‰Œè‘—é™¸é 
  /(main)/                    - ä¸»è¦å‹Ÿè³‡é é¢ (é¤é£²/é€šç”¨)
  /admin/                     - ç®¡ç†å¾Œå°
  /checkout/                  - çµå¸³æµç¨‹
  /legal/                     - æ³•å¾‹é é¢
  /api/                       - å¾Œç«¯ API è·¯ç”±

/components                   - React å…ƒä»¶ (68 æª”æ¡ˆ)
  /checkout/                  - çµå¸³ UI ç³»çµ±
  /sections/                  - è‘—é™¸é å€å¡Š
  /general/                   - é€šç”¨æ–¹æ¡ˆé é¢
  /home/                      - å“ç‰Œé¦–é å…ƒä»¶
  /ui/                        - å¯é‡ç”¨ UI å…ƒä»¶
  /layout/                    - ç‰ˆé¢åŒ…è£å™¨

/lib                          - å·¥å…·èˆ‡å•†æ¥­é‚è¼¯ (26 æª”æ¡ˆ)
  /checkout/                  - çµå¸³å¸¸æ•¸ã€schemaã€å·¥å…·
  /data/                      - å…§å®¹èˆ‡è¨­å®š
  /db/                        - MongoDB æ¨¡å‹èˆ‡é€£ç·š
  /email/                     - éƒµä»¶æœå‹™æ•´åˆ
  /hooks/                     - è‡ªè¨‚ React hooks
  /types/                     - TypeScript å®šç¾©
  /utils/                     - è¼”åŠ©å‡½å¼
```

---

## 2. ç™¼ç¾çš„å•é¡Œåˆ†é¡

### å•é¡Œåš´é‡æ€§çµ±è¨ˆ

| åš´é‡æ€§ | æ•¸é‡ | èªªæ˜ |
|--------|------|------|
| ğŸ”´ é«˜ | 4 | éœ€å„ªå…ˆè™•ç†çš„æ¶æ§‹å•é¡Œ |
| ğŸŸ¡ ä¸­ | 8 | å½±éŸ¿ç¶­è­·æ€§çš„å•é¡Œ |
| ğŸŸ¢ ä½ | 12 | å¯é¸æ“‡æ€§å„ªåŒ–çš„é …ç›® |

### å•é¡Œé¡åˆ¥çµ±è¨ˆ

| é¡åˆ¥ | æ•¸é‡ | å½±éŸ¿ |
|------|------|------|
| æœªä½¿ç”¨ç¨‹å¼ç¢¼ | 6+ å€‹æª”æ¡ˆ | å¢åŠ ç¶­è­·æˆæœ¬ |
| ç¨‹å¼ç¢¼é‡è¤‡ | 5 è™• | ä¿®æ”¹éœ€å¤šè™•åŒæ­¥ |
| æª”æ¡ˆéå¤§ | 8 å€‹æª”æ¡ˆ | é›£ä»¥ç¶­è­·èˆ‡é–±è®€ |
| å‹åˆ¥å®‰å…¨ | 56 è™• | æ½›åœ¨åŸ·è¡Œæ™‚éŒ¯èª¤ |
| è¨­å®šåˆ†æ•£ | 3 è™• | å¸¸æ•¸é‡è¤‡å®šç¾© |

---

## 3. æœªä½¿ç”¨çš„ç¨‹å¼ç¢¼

### 3.1 å®Œå…¨æœªä½¿ç”¨çš„å…ƒä»¶ (å¯ç›´æ¥åˆªé™¤)

| æª”æ¡ˆè·¯å¾‘ | è¡Œæ•¸ | ç‹€æ…‹ | èªªæ˜ |
|----------|------|------|------|
| `/components/ui/plans/PlanCard.tsx` | ~120 | âŒ æœªä½¿ç”¨ | è¢« SimplePlanCard å–ä»£ |
| `/components/ui/plans/PlanCardDesktop.tsx` | ~150 | âŒ æœªä½¿ç”¨ | è¢« SimplePlanCard å–ä»£ |
| `/components/ui/plans/PlanCardMobile.tsx` | ~130 | âŒ æœªä½¿ç”¨ | è¢« SimplePlanCard å–ä»£ |
| `/components/ui/plans/PricingCards.tsx` | ~100 | âŒ æœªä½¿ç”¨ | è¢« SimplePlanCard å–ä»£ |
| `/components/ui/modals/PreviewModal.tsx` | ~80 | âŒ æœªä½¿ç”¨ | å®šç¾©ä½†å¾æœªæ¸²æŸ“ |
| `/components/sections/09_PricingSectionV2.tsx` | ~200 | âŒ æœªä½¿ç”¨ | èˆŠç‰ˆå®šåƒ¹å€å¡Š |

**é ä¼°å¯åˆªé™¤è¡Œæ•¸: ~780 è¡Œ**

### 3.2 æœªä½¿ç”¨çš„åŒ¯å‡º (éœ€å¾ index.ts ç§»é™¤)

```typescript
// /components/ui/plans/index.ts - ä»¥ä¸‹åŒ¯å‡ºå¾æœªè¢« import
export { PlanCard } from './PlanCard'           // âŒ ç§»é™¤
export { PlanCardDesktop } from './PlanCardDesktop' // âŒ ç§»é™¤
export { PlanCardMobile } from './PlanCardMobile'   // âŒ ç§»é™¤
export { PricingCards } from './PricingCards'       // âŒ ç§»é™¤
```

### 3.3 é·ç§»éºç•™æª”æ¡ˆ (æ‡‰å°å­˜æˆ–åˆªé™¤)

| æª”æ¡ˆè·¯å¾‘ | èªªæ˜ |
|----------|------|
| `/scripts/migrate-kv-to-mongodb.ts` | ä¸€æ¬¡æ€§é·ç§»è…³æœ¬ï¼Œå·²å®Œæˆ |
| `.env.local.example` å…§çš„ KV è¨­å®š | Vercel KV å·²ä¸å†ä½¿ç”¨ |

### 3.4 æœªä½¿ç”¨çš„å‹•ç•«å®šç¾©

```typescript
// /lib/animations.ts - 261 è¡Œä¸­ç´„ 30% å¾æœªä½¿ç”¨
// ä»¥ä¸‹å‹•ç•«è®Šé«”å®šç¾©ä½†æœªè¢«å¼•ç”¨:
- glowVariants (æœªä½¿ç”¨)
- rotateVariants (æœªä½¿ç”¨)
- scaleVariants éƒ¨åˆ† variants (æœªä½¿ç”¨)
```

---

## 4. éœ€è¦æ‹†åˆ†çš„å¤§å‹æª”æ¡ˆ

### 4.1 `/lib/data/content.ts` - 1121 è¡Œ (æœ€åš´é‡)

**å•é¡Œ:** å–®ä¸€æª”æ¡ˆåŒ…å«æ‰€æœ‰å…§å®¹è³‡æ–™ï¼Œæ¥µé›£ç¶­è­·

**å»ºè­°æ‹†åˆ†ç‚º:**

```
/lib/data/
â”œâ”€â”€ index.ts              # çµ±ä¸€åŒ¯å‡º
â”œâ”€â”€ plans.ts              # æ–¹æ¡ˆè³‡æ–™ (~200 è¡Œ)
â”œâ”€â”€ curriculum.ts         # èª²ç¨‹å¤§ç¶± (~300 è¡Œ)
â”œâ”€â”€ faq.ts                # FAQ å€å¡Š (~200 è¡Œ)
â”œâ”€â”€ instructors.ts        # è¬›å¸«è³‡è¨Š (~150 è¡Œ)
â”œâ”€â”€ media.ts              # åª’é«”å ±å° (~100 è¡Œ)
â””â”€â”€ constants.ts          # æ—¥æœŸã€è¨­å®šå¸¸æ•¸ (~50 è¡Œ)
```

### 4.2 `/components/checkout/steps/StepPayment.tsx` - 476 è¡Œ

**å•é¡Œ:** æ”¯ä»˜è¡¨å–®éæ–¼è¤‡é›œ

**å»ºè­°æ‹†åˆ†ç‚º:**

```
/components/checkout/steps/payment/
â”œâ”€â”€ StepPayment.tsx       # ä¸»å®¹å™¨ (~100 è¡Œ)
â”œâ”€â”€ CreditCardForm.tsx    # ä¿¡ç”¨å¡è¡¨å–® (~150 è¡Œ)
â”œâ”€â”€ ATMForm.tsx           # ATM è¡¨å–® (~100 è¡Œ)
â”œâ”€â”€ PaymentMethodTabs.tsx # æ”¯ä»˜æ–¹å¼åˆ‡æ› (~80 è¡Œ)
â””â”€â”€ PaymentSummary.tsx    # è¨‚å–®æ‘˜è¦ (~80 è¡Œ)
```

### 4.3 `/app/admin/page.tsx` - 428 è¡Œ

**å•é¡Œ:** Admin é é¢åŒ…å« 3 å€‹å…§åµŒå…ƒä»¶

**å»ºè­°æ‹†åˆ†ç‚º:**

```
/components/admin/
â”œâ”€â”€ AdminDashboard.tsx    # ä¸»å„€è¡¨æ¿
â”œâ”€â”€ OrdersTable.tsx       # è¨‚å–®è¡¨æ ¼
â”œâ”€â”€ ContactsTable.tsx     # è¯çµ¡è¡¨æ ¼
â””â”€â”€ StatsCards.tsx        # çµ±è¨ˆå¡ç‰‡
```

### 4.4 `/lib/email/templates.ts` - 339 è¡Œ

**å•é¡Œ:** HTML æ¨¡æ¿ç”¨å­—ä¸²æ¨¡æ¿ç¡¬ç·¨ç¢¼

**å»ºè­°:**
- æ‹†åˆ†ç‚ºç¨ç«‹çš„ `.html` æª”æ¡ˆ
- æˆ–ä½¿ç”¨ React Email å…ƒä»¶åŒ–

### 4.5 `/components/ui/plans/PlanIcons.tsx` - 419 è¡Œ

**å•é¡Œ:** æ‰€æœ‰åœ–ç¤ºå®šç¾©åœ¨å–®ä¸€æª”æ¡ˆ

**å»ºè­°:** ä½¿ç”¨ JSON è¨­å®šæˆ–æ‹†åˆ†ç‚ºé¡åˆ¥æª”æ¡ˆ

---

## 5. å¯åˆä½µçš„é‡è¤‡ç¨‹å¼ç¢¼

### 5.1 é¤é£²ç‰ˆ vs é€šç”¨ç‰ˆå€å¡Šå…ƒä»¶ (~70% é‡è¤‡)

| é¤é£²ç‰ˆ | é€šç”¨ç‰ˆ | é‡è¤‡ç‡ |
|--------|--------|--------|
| `/components/sections/01_HeroSection.tsx` | `/components/general/Hero.tsx` | ~80% |
| `/components/sections/02_PainPointsSection.tsx` | `/components/general/PainPoints.tsx` | ~75% |
| `/components/sections/03_BenefitsSection.tsx` | `/components/general/Benefits.tsx` | ~70% |
| `/components/sections/09_PlansSection.tsx` | `/components/general/Plans.tsx` | ~85% |

**å»ºè­°:** å»ºç«‹å…±ç”¨å…ƒä»¶ï¼Œé€é props å‚³å…¥å·®ç•°å…§å®¹

```typescript
// åˆä½µå¾Œçµæ§‹
/components/shared/
â”œâ”€â”€ HeroSection.tsx       # å…±ç”¨ Heroï¼Œé€é variant prop åˆ‡æ›
â”œâ”€â”€ PainPointsSection.tsx # å…±ç”¨ç—›é»å€å¡Š
â”œâ”€â”€ BenefitsSection.tsx   # å…±ç”¨æ•ˆç›Šå€å¡Š
â””â”€â”€ PlansSection.tsx      # å…±ç”¨æ–¹æ¡ˆå€å¡Š
```

### 5.2 Session é©—è­‰é‚è¼¯ (é‡è¤‡ 3 æ¬¡)

**ç›®å‰ç‹€æ…‹:**
```typescript
// ä»¥ä¸‹ä¸‰å€‹æª”æ¡ˆæœ‰ç›¸åŒçš„ SESSION_SECRET é©—è­‰é‚è¼¯
/app/api/admin/login/route.ts:3
/app/api/admin/check/route.ts:3
/app/api/fundraising/route.ts:7
```

**å»ºè­°åˆä½µç‚º:**
```typescript
// /lib/auth/session.ts
export const verifySession = (cookie: string): boolean => { ... }
export const createSession = (): string => { ... }
```

### 5.3 æ–¹æ¡ˆ ID æ¸…å–® (é‡è¤‡ 2 æ¬¡)

**ç›®å‰ç‹€æ…‹:**
```typescript
// /app/api/checkout/submit/route.ts:11-14
const validPlanIds = ['general-basic', 'general-standard', ...]

// /lib/checkout/schemas.ts:99-100
z.enum(['general-basic', 'general-standard', ...])
```

**å»ºè­°åˆä½µç‚º:**
```typescript
// /lib/checkout/constants.ts
export const VALID_PLAN_IDS = ['general-basic', ...] as const
export type PlanId = typeof VALID_PLAN_IDS[number]
```

---

## 6. é‚è¼¯å„ªåŒ–é …ç›®

### 6.1 å‹åˆ¥å®‰å…¨æ”¹é€²

| å•é¡Œ | ä½ç½® | å»ºè­° |
|------|------|------|
| `Record<string, any>` æŸ¥è©¢å»ºæ§‹ | `/app/api/admin/orders/route.ts:30` | ä½¿ç”¨å‹åˆ¥å®‰å…¨çš„ query builder |
| 56 è™• `any` å‹åˆ¥ | æ•£ä½ˆæ–¼ç¨‹å¼ç¢¼åº« | é€æ­¥æ›¿æ›ç‚ºæ­£ç¢ºå‹åˆ¥ |
| é­”è¡“å­—ä¸² | `'pending'`, `'paid'` ç­‰ | ä½¿ç”¨ enum æˆ– const ç‰©ä»¶ |

### 6.2 ç‹€æ…‹ç®¡ç†å„ªåŒ–

**ç›®å‰:** CheckoutContainer ä½¿ç”¨å¤§é‡ useState

**å»ºè­°:** æŠ½å–ç‚º Zustand store
```typescript
// /lib/stores/checkout.ts
export const useCheckoutStore = create<CheckoutState>((set) => ({
  step: 1,
  formData: {},
  setStep: (step) => set({ step }),
  // ...
}))
```

### 6.3 å‹•ç•«å®šç¾©å„ªåŒ–

**ç›®å‰:** `/lib/animations.ts` 261 è¡Œï¼Œå®šç¾© 100+ å‹•ç•«è®Šé«”

**å»ºè­°:**
1. ç§»é™¤æœªä½¿ç”¨çš„å‹•ç•« (~30%)
2. æŒ‰åŠŸèƒ½æ¨¡çµ„åŒ–
3. ä½¿ç”¨ CSS è®Šæ•¸æ¸›å°‘ JS å®šç¾©

### 6.4 éŒ¯èª¤è™•ç†ä¸€è‡´æ€§

**ç›®å‰:** API è·¯ç”±æ··ç”¨ `throw` å’Œ `return` éŒ¯èª¤è™•ç†

**å»ºè­°:** çµ±ä¸€éŒ¯èª¤è™•ç†æ¨¡å¼
```typescript
// /lib/api/errors.ts
export class ApiError extends Error {
  constructor(public statusCode: number, message: string) {
    super(message)
  }
}

export const handleApiError = (error: unknown): NextResponse => { ... }
```

### 6.5 ç§»é™¤ Console æ—¥èªŒ

**ç›®å‰:** 18 è™• `console.log/error` åœ¨ç”Ÿç”¢ç¨‹å¼ç¢¼ä¸­

**å»ºè­°:** ä½¿ç”¨ logger æœå‹™æˆ–å®Œå…¨ç§»é™¤
```typescript
// /lib/utils/logger.ts
export const logger = {
  info: (msg: string) => process.env.NODE_ENV !== 'production' && console.log(msg),
  error: (msg: string, err?: unknown) => console.error(msg, err),
}
```

---

## 7. æª”æ¡ˆé—œè¯æ€§åˆ†æ

### 7.1 ä¾è³´é—œä¿‚åœ–

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   /lib/data/content â”‚
                    â”‚    (1121 è¡Œæ ¸å¿ƒ)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼                   â–¼                   â–¼
    /components/        /components/        /components/
      sections/           general/            checkout/
     (é¤é£²ç‰ˆ)            (é€šç”¨ç‰ˆ)              (å…±ç”¨)
           â”‚                   â”‚                   â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  /lib/checkout/*    â”‚
                    â”‚  (schemas, utils)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                     â–¼
             /app/api/              /lib/db/
           checkout/submit        (MongoDB)
```

### 7.2 æœ€å¸¸è¢«å¼•ç”¨çš„æ¨¡çµ„

| æ¨¡çµ„ | è¢«å¼•ç”¨æ¬¡æ•¸ | è©•ä¼° |
|------|-----------|------|
| `@/lib/utils` (cn) | 32 æ¬¡ | âœ… åˆç† |
| `@/lib/types` | 9 æ¬¡ | âœ… åˆç† |
| `@/lib/checkout/schemas` | 8 æ¬¡ | âœ… åˆç† |
| `@/lib/hooks/*` | 6+ æ¬¡ | âœ… åˆç† |
| `motion/react` | éä½ˆ | âœ… åˆç† |

### 7.3 å¾ªç’°ä¾è³´æª¢æ¸¬

**çµæœ: ç„¡å¾ªç’°ä¾è³´** âœ… æ¶æ§‹è‰¯å¥½

### 7.4 Barrel Export åˆ†æ

| æª”æ¡ˆ | åŒ¯å‡ºæ•¸é‡ | é¢¨éšª |
|------|---------|------|
| `/components/ui/plans/index.ts` | 27 å€‹ | âš ï¸ éå¤§ï¼Œå½±éŸ¿ tree-shaking |
| `/components/ui/index.ts` | 17 å€‹ | âš ï¸ åå¤§ |
| `/components/sections/index.ts` | 11 å€‹ | âœ… å¯æ¥å— |

---

## 8. åŸ·è¡Œè¨ˆç•«

### Phase 1: æ¸…ç†æœªä½¿ç”¨ç¨‹å¼ç¢¼ (å„ªå…ˆåŸ·è¡Œ)

**ä»»å‹™æ¸…å–®:**

- [ ] **1.1** åˆªé™¤ `/components/ui/plans/PlanCard.tsx`
- [ ] **1.2** åˆªé™¤ `/components/ui/plans/PlanCardDesktop.tsx`
- [ ] **1.3** åˆªé™¤ `/components/ui/plans/PlanCardMobile.tsx`
- [ ] **1.4** åˆªé™¤ `/components/ui/plans/PricingCards.tsx`
- [ ] **1.5** åˆªé™¤ `/components/ui/modals/PreviewModal.tsx`
- [ ] **1.6** åˆªé™¤ `/components/sections/09_PricingSectionV2.tsx`
- [ ] **1.7** æ›´æ–° `/components/ui/plans/index.ts` ç§»é™¤æœªä½¿ç”¨åŒ¯å‡º
- [ ] **1.8** æ›´æ–° `/components/ui/modals/index.ts` ç§»é™¤æœªä½¿ç”¨åŒ¯å‡º
- [ ] **1.9** æ›´æ–° `/components/sections/index.ts` ç§»é™¤æœªä½¿ç”¨åŒ¯å‡º
- [ ] **1.10** å°å­˜ `/scripts/migrate-kv-to-mongodb.ts`

**é ä¼°å½±éŸ¿:** åˆªé™¤ç´„ 780 è¡Œç¨‹å¼ç¢¼ï¼Œæ¸›å°‘ç¶­è­·è² æ“”

---

### Phase 2: æ‹†åˆ†å¤§å‹æª”æ¡ˆ

**ä»»å‹™æ¸…å–®:**

- [ ] **2.1** æ‹†åˆ† `/lib/data/content.ts` ç‚º 6 å€‹æ¨¡çµ„
  - å»ºç«‹ `/lib/data/plans.ts`
  - å»ºç«‹ `/lib/data/curriculum.ts`
  - å»ºç«‹ `/lib/data/faq.ts`
  - å»ºç«‹ `/lib/data/instructors.ts`
  - å»ºç«‹ `/lib/data/media.ts`
  - å»ºç«‹ `/lib/data/constants.ts`
  - å»ºç«‹ `/lib/data/index.ts` çµ±ä¸€åŒ¯å‡º
  - æ›´æ–°æ‰€æœ‰å¼•ç”¨

**é ä¼°å½±éŸ¿:** 1121 è¡Œ â†’ 6 å€‹ç´„ 100-300 è¡Œçš„æª”æ¡ˆï¼Œå¤§å¹…æå‡å¯ç¶­è­·æ€§

---

### Phase 3: åˆä½µé‡è¤‡ç¨‹å¼ç¢¼

**ä»»å‹™æ¸…å–®:**

- [ ] **3.1** å»ºç«‹å…±ç”¨ Session é©—è­‰æ¨¡çµ„
  - å»ºç«‹ `/lib/auth/session.ts`
  - é‡æ§‹ 3 å€‹ API è·¯ç”±ä½¿ç”¨å…±ç”¨æ¨¡çµ„

- [ ] **3.2** å»ºç«‹æ–¹æ¡ˆ ID å–®ä¸€ä¾†æº
  - åœ¨ `/lib/checkout/constants.ts` å®šç¾© `VALID_PLAN_IDS`
  - æ›´æ–° schema å’Œ API è·¯ç”±å¼•ç”¨

**é ä¼°å½±éŸ¿:** æ¸›å°‘ 3 è™•é‡è¤‡é‚è¼¯ï¼Œæœªä¾†ä¿®æ”¹åªéœ€ä¸€è™•

---

### Phase 4: é‚è¼¯å„ªåŒ–

**ä»»å‹™æ¸…å–®:**

- [ ] **4.1** ç§»é™¤ç”Ÿç”¢ç’°å¢ƒ console.log (18 è™•)
- [ ] **4.2** æ¸…ç†æœªä½¿ç”¨çš„å‹•ç•«å®šç¾© (~30%)
- [ ] **4.3** çµ±ä¸€ API éŒ¯èª¤è™•ç†æ¨¡å¼

**é ä¼°å½±éŸ¿:** æ›´ä¹¾æ·¨çš„ç¨‹å¼ç¢¼ï¼Œæ¸›å°‘åŸ·è¡Œæ™‚é›œè¨Š

---

### Phase 5: å‹åˆ¥å®‰å…¨å¼·åŒ– (å¯é¸)

**ä»»å‹™æ¸…å–®:**

- [ ] **5.1** æ›¿æ› `Record<string, any>` ç‚ºæ­£ç¢ºå‹åˆ¥
- [ ] **5.2** é€æ­¥æ¶ˆé™¤ `any` å‹åˆ¥ä½¿ç”¨ (56 è™•)
- [ ] **5.3** å»ºç«‹è¨‚å–®ç‹€æ…‹ enum

---

## 9. é æœŸæ•ˆç›Š

### ç¨‹å¼ç¢¼å“è³ªæŒ‡æ¨™æ”¹å–„

| æŒ‡æ¨™ | é‡æ§‹å‰ | é‡æ§‹å¾Œ |
|------|--------|--------|
| ç¸½ç¨‹å¼ç¢¼è¡Œæ•¸ | ~15,000 | ~13,500 (-10%) |
| æœªä½¿ç”¨ç¨‹å¼ç¢¼ | ~780 è¡Œ | 0 è¡Œ |
| æœ€å¤§æª”æ¡ˆè¡Œæ•¸ | 1121 è¡Œ | ~300 è¡Œ |
| é‡è¤‡ç¨‹å¼ç¢¼ | ~8% | ~3% |
| é¬†æ•£å‹åˆ¥ | 56 è™• | < 20 è™• |

### ç¶­è­·æ€§æ”¹å–„

- âœ… æ›´å®¹æ˜“æ‰¾åˆ°å’Œä¿®æ”¹ç‰¹å®šåŠŸèƒ½çš„ç¨‹å¼ç¢¼
- âœ… æ–°é–‹ç™¼è€…æ›´å¿«ä¸Šæ‰‹å°ˆæ¡ˆ
- âœ… æ¸›å°‘ã€Œä¿®æ”¹ä¸€è™•å¿˜è¨˜æ”¹å¦ä¸€è™•ã€çš„éŒ¯èª¤
- âœ… æ›´å¥½çš„ IDE æ”¯æ´å’Œè‡ªå‹•å®Œæˆ

### æ•ˆèƒ½æ½›åœ¨æ”¹å–„

- âœ… æ›´å¥½çš„ tree-shaking (ç§»é™¤æœªä½¿ç”¨åŒ¯å‡º)
- âœ… æ›´å°çš„æ‰“åŒ…å¤§å°
- âœ… æ›´å¿«çš„é–‹ç™¼ç’°å¢ƒå•Ÿå‹•

---

## ç¢ºèªåŸ·è¡Œ

**è«‹ç¢ºèªä»¥ä¸‹äº‹é …å¾Œï¼Œæˆ‘å°‡é–‹å§‹åŸ·è¡Œé‡æ§‹:**

1. âœ… UI/UX å®Œå…¨ä¸æœƒæ”¹è®Š - åƒ…é‡æ§‹å…§éƒ¨ç¨‹å¼ç¢¼
2. âœ… æ‰€æœ‰ä¿®æ”¹éƒ½æœƒä¿æŒç¾æœ‰åŠŸèƒ½
3. âœ… æœƒæŒ‰ç…§ Phase é †åºåŸ·è¡Œ
4. âš ï¸ å»ºè­°å…ˆ commit ç›®å‰ç‹€æ…‹ä½œç‚ºå‚™ä»½

---

**æº–å‚™å¥½å¾Œè«‹å‘Šè¨´æˆ‘ï¼Œæˆ‘å°‡é–‹å§‹åŸ·è¡Œ Phase 1 æ¸…ç†æœªä½¿ç”¨ç¨‹å¼ç¢¼ã€‚**
